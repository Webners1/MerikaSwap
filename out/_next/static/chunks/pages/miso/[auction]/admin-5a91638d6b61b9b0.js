(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3483],{32871:function(e,t,s){"use strict";var a=s(49501),r=s(78980),n=s(29300),i=s(56785),l=s(48511),o=s(53502),c=s(44554),d=s(67294),u=s(85893);t.Z=e=>{let{listAddress:t,paymentToken:s}=e;const{i18n:h}=(0,a.mV)(),{0:m,1:x}=(0,d.useState)(),{0:p,1:f}=(0,d.useState)(),{0:j,1:v}=(0,d.useState)(),g=(0,c.UJ)(p),b=(0,o.n8)(j||t,!m&&g?g:void 0,s),w=p&&!m&&b&&b.greaterThan(r.xE),y=p&&!m&&(null===b||void 0===b?void 0:b.equalTo(r.xE));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,u.jsx)(i.Z,{weight:700,children:h._(h._("Whitelist Checker"))}),(0,u.jsx)("div",{className:"mt-2 flex rounded-md shadow-sm",children:(0,u.jsx)("input",{value:j||t,onChange:e=>(0,l.EU)({value:e.target.value},[l.xU],(()=>v(e.target.value)),x),placeholder:"Permission list address",className:(0,c.AK)(n.X,m?"!border-red":"")})}),(0,u.jsx)("div",{className:"mt-2 flex rounded-md shadow-sm",children:(0,u.jsx)("input",{value:p,onChange:e=>(0,l.EU)({value:e.target.value},[l.xU],(()=>f(e.target.value)),x),placeholder:"User address",className:(0,c.AK)(n.X,m?"!border-red":"")})}),m?(0,u.jsx)(n.Z.HelperText,{className:"!text-red",children:m}):(0,u.jsx)(n.Z.HelperText,{className:(0,c.AK)("mt-2 text-sm",w?"!text-green":y?"!text-red":"text-gray-500"),children:w?h._(h._("Address is whitelisted for {0} {1}!",{0:null===b||void 0===b?void 0:b.toSignificant(6),1:null===b||void 0===b?void 0:b.currency.symbol})):y?h._(h._("Address is not whitelisted!")):h._(h._("Check if an address is whitelisted"))})]})})}},48511:function(e,t,s){"use strict";s.d(t,{EU:function(){return n},xU:function(){return r}});var a=s(19485);const r=async e=>{if(!e.value)return"Invalid input";try{(0,a.getAddress)(e.value)}catch{return"Invalid address"}return!0},n=async(e,t,s,a)=>{if(s(),0===e.value.length)return a(),s();try{await Promise.all(t.map((async t=>{const s=await t(e);if("string"===typeof s)throw new Error(s);return!0}))),a()}catch(r){a(r.message)}}},91436:function(e,t,s){"use strict";s.d(t,{Z:function(){return T}});var a=s(59499),r=s(9279),n=s(89531),i=s(2905),l=s(49501),o=s(17141),c=s(41626),d=s(42144),u=s(54962),h=s(56785),m=s(34604),x=s(41909),p=s(19652),f=s(77837),j=s(64527),v=s(4840),g=s(44554),b=s(23809),w=s(25675),y=s.n(w),_=s(41664),N=s.n(_),k=(s(67294),s(85893));var Z=()=>(0,k.jsx)("div",{className:"h-[443px] animate-pulse rounded bg-dark-900 pt-4 overflow-hidden transition-all shadow-md hover:translate-y-[-3px] hover:shadow-xl hover:shadow-pink/5",children:(0,k.jsxs)("div",{className:"h-full flex flex-col gap-3",children:[(0,k.jsxs)("div",{className:"justify-between grid grid-cols-3 px-5 gap-2",children:[(0,k.jsx)("div",{className:"w-20 h-2 bg-dark-800 rounded"}),(0,k.jsx)("div",{}),(0,k.jsx)("div",{className:"w-20 h-5 bg-dark-800 rounded"})]}),(0,k.jsxs)("div",{className:"flex flex-col px-5 pt-2 gap-2",children:[(0,k.jsx)("div",{className:"w-20 h-2 bg-dark-800 rounded"}),(0,k.jsx)("div",{className:"w-[124px] h-6 bg-dark-700 rounded"})]}),(0,k.jsxs)("div",{className:"flex justify-between bg-dark-800 px-5 py-3 items-center ",children:[(0,k.jsxs)("div",{className:"grid grid-cols-4 gap-3 items-center",children:[(0,k.jsx)("div",{className:"rounded-full bg-dark-700 h-[18px] w-[18px]"}),(0,k.jsx)("div",{className:"col-span-3 h-4 bg-dark-700 rounded"})]}),(0,k.jsx)("div",{className:"h-4 bg-dark-700 rounded"})]}),(0,k.jsxs)("div",{className:"flex justify-between px-5 gap-2",children:[(0,k.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded w-full"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded w-full"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded"})]})]}),(0,k.jsx)("div",{className:"flex h-full items-center px-5 h-[90px]",children:(0,k.jsx)("div",{className:"h-1 rounded bg-dark-700 px-5 w-full transform rotate-[10deg]"})}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-3 px-5 py-4 bg-dark-800 flex-grow",children:[(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded w-full"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded w-full"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded w-full"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded w-full"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded w-full"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded w-full"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded w-full"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded w-full"})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,k.jsx)("div",{className:"h-1 bg-dark-800 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-dark-700 rounded"})]})]})]})});function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(Object(s),!0).forEach((function(t){(0,a.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var T=e=>{var t,s,a,w,_,O;let{auction:T,link:C=!0}=e;const{i18n:S}=(0,l.mV)();if(!T)return(0,k.jsx)(Z,{});const A=(0,k.jsx)("div",P(P({className:"overflow-hidden bg-cover border rounded shadow-md cursor-pointer border-dark-800 hover:border-dark-600"},T.auctionDocuments.icon&&{style:{backgroundImage:'url("'.concat((0,b.H)({src:T.auctionDocuments.icon,width:48}),'")')}}),{},{children:(0,k.jsxs)("div",{className:"bg-dark-900 relative flex flex-col gap-3 z-[10]",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between pt-3 pl-3 pr-3",children:[(0,k.jsxs)("div",{className:"flex gap-2",children:[T.pointListAddress!==r.d&&(0,k.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,k.jsx)(n.Z,{width:14}),(0,k.jsx)(h.Z,{variant:"xxs",weight:700,className:"text-secondary",children:S._(S._("Private"))})]}),T.auctionDocuments.bannedCountries&&(0,k.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,k.jsx)(d._,{width:14,className:"text-yellow"}),(0,k.jsx)(h.Z,{variant:"xxs",weight:700,className:"text-secondary",children:S._(S._("Restricted"))})]})]}),T.auctionDocuments.category?(0,k.jsx)(o.Z,{label:T.auctionDocuments.category,color:"blue"}):(0,k.jsx)(o.Z,{label:S._(S._("Uncategorized")),className:"opacity-40"})]}),(0,k.jsxs)("div",{className:"flex gap-3 px-3",children:[T.auctionDocuments.icon&&(0,k.jsxs)("div",{className:"relative min-w-[48px] h-[48px] shadow-md rounded-full",children:[(0,k.jsx)("div",{className:(0,g.AK)(T.status===j.wo.LIVE?"bg-green":T.status===j.wo.FINISHED?"bg-pink":"bg-blue","absolute top-[-2px] right-[-2px] rounded-full w-3.5 h-3.5 shadow-md shadow-dark-800 z-10")}),(0,k.jsx)(y(),{alt:"logo",src:(0,b.H)({src:T.auctionDocuments.icon,width:48}),width:48,height:48,layout:"responsive",className:"rounded-full"})]}),(0,k.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,k.jsx)(h.Z,{variant:"sm",weight:700,className:"text-secondary",children:T.auctionToken.symbol}),(0,k.jsx)(h.Z,{variant:"h3",weight:700,className:"truncate text-high-emphesis",children:T.auctionToken.name})]})]}),(0,k.jsxs)("div",{className:(0,g.AK)("flex items-center justify-between p-3 bg-dark-800"),children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsx)(p.Z,{auctionTemplate:T.template,width:18,height:14}),(0,k.jsx)(h.Z,{variant:"xs",weight:700,children:(0,v.av)(S)[T.template]})]}),(0,k.jsx)(u.Z,{text:(0,v.m2)(S)[T.template],icon:(0,k.jsx)(i.Z,{width:12,height:12})})]}),(0,k.jsx)(h.Z,{variant:"xs",weight:700,className:T.status===j.wo.LIVE?"text-green":T.status===j.wo.FINISHED?"text-pink":T.status===j.wo.UPCOMING?"text-blue":"",children:(0,v.RF)(S)[T.status]})]}),(0,k.jsxs)("div",{className:"flex justify-between px-3",children:[(0,k.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(h.Z,{variant:"xxs",weight:700,className:"uppercase text-secondary",children:S._(S._("Current Token Price"))}),(0,k.jsx)(u.Z,{text:(0,v.od)(S)[T.template],icon:(0,k.jsx)(i.Z,{width:10,height:10,className:"text-secondary mb-[2px]"})})]}),(0,k.jsxs)(h.Z,{variant:"xs",weight:700,children:[(0,g.uf)(null===(t=T.tokenPrice)||void 0===t?void 0:t.toSignificant(6))," ",null===(s=T.tokenPrice)||void 0===s?void 0:s.quoteCurrency.symbol]})]}),(0,k.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,k.jsx)(h.Z,{variant:"xxs",weight:700,className:"uppercase text-secondary",children:S._(S._("Amount for sale"))}),(0,k.jsxs)(h.Z,{variant:"xs",weight:700,children:[(0,g.uf)(null===(a=T.totalTokens)||void 0===a?void 0:a.toSignificant(6))," ",null===(w=T.totalTokens)||void 0===w?void 0:w.currency.symbol]})]})]}),(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)(x.Z,{auction:T,prices:!1,showPriceIndicator:!1}),(0,k.jsxs)("div",{className:(0,g.AK)("flex flex-col flex-grow px-3 px-4 py-2 divide-y bg-dark-800 divide-dark-700"),children:[(0,k.jsxs)("div",{className:"flex justify-between gap-0.5 py-2",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(h.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:S._(S._("Auction Price"))}),(0,k.jsx)(u.Z,{text:(0,v.m2)(S)[T.template],icon:(0,k.jsx)(i.Z,{width:12,height:12})})]}),(0,k.jsxs)("div",{className:"relative flex items-center",children:[(0,k.jsx)("div",{className:"!w-4 !h-4 absolute -left-7 -top-2",children:(0,k.jsx)(c.X,{currency:T.paymentToken,size:32,className:"!rounded-full overflow-hidden transform scale-[0.5]"})}),(0,k.jsx)(h.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:(0,k.jsx)(m.Z,{auction:T})})]})]}),T.remainingPercentage&&(0,k.jsxs)("div",{className:"flex justify-between gap-0.5 py-2",children:[(0,k.jsx)(h.Z,{variant:"xs",children:S._(S._("Tokens remaining"))}),(0,k.jsxs)(h.Z,{variant:"xs",className:"text-high-emphesis",children:[T.remainingPercentage.toSignificant(6),"%"]})]}),(0,k.jsxs)("div",{className:"flex justify-between gap-0.5 py-2",children:[(0,k.jsx)(h.Z,{variant:"xs",children:S._(S._("Total Raised"))}),(0,k.jsxs)(h.Z,{variant:"xs",className:"text-high-emphesis",children:[null===(_=T.commitmentsTotal)||void 0===_?void 0:_.toSignificant(6)," ",null===T||void 0===T||null===(O=T.commitmentsTotal)||void 0===O?void 0:O.currency.symbol]})]}),(0,k.jsxs)("div",{className:"flex justify-between gap-0.5 py-2",children:[(0,k.jsx)(h.Z,{variant:"xs",children:S._(S._("Time Remaining"))}),(0,k.jsx)(h.Z,{variant:"xs",children:(0,k.jsx)(f.Z,{auction:T})})]})]})]})]})}));return C?(0,k.jsx)(N(),{href:"/miso/".concat(T.auctionInfo.addr),passHref:!0,children:(0,k.jsx)("a",{children:A})}):A}},39681:function(e,t,s){"use strict";var a=s(78980),r=s(25401),n=s(4840),i=s(53389),l=s(12614),o=s(68411),c=s(67294);t.Z=(e,t,s,d,u)=>{var h,m,x,p;const{chainId:f,account:j}=(0,l.aQ)(),v=(0,o.h7)(),g=(0,i.cq)(t,f?null===(h=r[f])||void 0===h||null===(m=h[a.bk[f]])||void 0===m?void 0:m.contracts.PostAuctionLauncher.abi:void 0),b=(0,i.cq)(u,f?null===(x=r[f])||void 0===x||null===(p=x[a.bk[f]])||void 0===p?void 0:p.contracts.PointList.abi:void 0),w=(0,i.cq)(e,f&&s?(0,n.rI)(f,s):void 0,!0),y=(0,c.useCallback)((async e=>{if(w)try{const[t,s]=e.reduce(((e,t)=>(e[0].push(t.name),e[1].push(t.data),e)),[[],[]]),a=await w.setDocuments(t,s);return v(a,{summary:"Set Auction Documents"}),a}catch(t){console.error("set document error:",t.message)}}),[v,w]),_=(0,c.useCallback)((async()=>{if(w)try{const e=await w.cancelAuction();return v(e,{summary:"Cancel Auction"}),e}catch(e){console.error("cancel auction error:",e.message)}}),[v,w]),N=(0,c.useCallback)((async()=>{if(w&&j)try{const e=await w["withdrawTokens(address)"](j.toLowerCase());return v(e,{summary:"Claim tokens"}),e}catch(e){console.error("withdraw tokens error: ",e)}}),[j,v,w]),k=(0,c.useCallback)((async()=>{if(w)try{let e;return e=d&&d>0&&g?await g.finalize():await w.finalize(),v(e,{summary:"Finalize Auction"}),e}catch(e){console.error("finalize auction error: ",e)}}),[v,w,g,d]),Z=(0,c.useCallback)((async()=>{if(g&&d&&d>0)try{const e=await g.withdrawDeposits();return v(e,{summary:"Withdraw Deposits"}),e}catch(e){console.error("finalize auction error: ",e)}}),[v,g,d]),O=(0,c.useCallback)((async e=>{if(w)try{const t=await w.setList(e);return v(t,{summary:"Set permission list"}),t}catch(t){console.error("set permission list error: ",t.message)}}),[v,w]),P=(0,c.useCallback)((async e=>{if(w)try{const t=await w.enableList(e);return v(t,{summary:e?"Enable permission list":"Disable permission list"}),t}catch(t){console.error("set permission list status error:",t.message)}}),[v,w]);return{updatePointList:(0,c.useCallback)((async(e,t)=>{if(b)try{const s=await b.setPoints(e,t);return v(s,{summary:"Set point list"}),s}catch(s){console.error("set point list error:",s.message)}}),[v,b]),editDocuments:y,cancelAuction:_,claimTokens:N,finalizeAuction:k,updatePermissionList:O,updatePermissionListStatus:P,withdrawDeposits:Z}}},19394:function(e,t,s){"use strict";s.d(t,{E:function(){return n}});var a=s(11163),r=s(67294);const n=e=>{const t=(0,a.useRouter)();(0,r.useEffect)((()=>{const{ethereum:s}=window;if(s&&s.on){const a=()=>t.push(e);return s.on("chainChanged",a),()=>{s.removeListener&&s.removeListener("chainChanged",a)}}}),[])}},24735:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ae}});var a=s(67294);var r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))})),n=s(94323),i=s(49501),l=s(71862),o=s(56785),c=s(38239),d=s(59499),u=s(95496),h=s(29300),m=s(9279),x=s(22244),p=s(48511),f=s(39681),j=s(44554),v=s(69260),g=s.n(v),b=s(85893);function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _=e=>{var t,s;let{auction:r}=e;const{i18n:n}=(0,i.mV)(),{0:c,1:d}=(0,a.useState)(!1),{updatePermissionList:u}=(0,f.Z)(r.auctionInfo.addr,null===(t=r.launcherInfo)||void 0===t?void 0:t.address,r.template),{0:v,1:w}=(0,a.useState)(r.pointListAddress),{0:_,1:N}=(0,a.useState)(),k=(0,b.jsx)("a",{href:"https://instantmiso.gitbook.io/miso/markets/lists",target:"_blank",rel:"noreferrer",className:"text-purple",children:n._(n._("here"))}),Z=(0,b.jsx)("a",{href:"https://miso.sushi.com/factory/points-list",target:"_blank",rel:"noreferrer",className:"text-purple",children:n._(n._("here"))}),O=(0,a.useCallback)((async e=>{try{d(!0);const t=await u(e);null!==t&&void 0!==t&&t.hash&&await t.wait()}catch(t){N(t.error.message)}finally{d(!1)}}),[u]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:(0,j.AK)(r.auctionInfo.usePointList?"":"pointer-events-none opacity-40 filter saturate-[0.1]"),children:[(0,b.jsx)(o.Z,{weight:700,children:n._(n._("Point List Address"))}),(0,b.jsx)("div",{className:"mt-2 flex rounded-md shadow-sm",children:(0,b.jsx)("input",{value:v===m.d?"":v,onChange:e=>(0,p.EU)({value:e.target.value},[p.xU],(()=>w(e.target.value)),N),placeholder:"0x...",className:(0,j.AK)(h.X,_?"!border-red":"")})}),_?(0,b.jsx)(h.Z.HelperText,{className:"!text-red",children:_}):(0,b.jsxs)(h.Z.HelperText,{children:[(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:(0,b.jsx)(i.cC,{id:"An address or contract that contains and controls the list. You can create a point list {link}",values:{link:Z},components:a.Fragment})}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:(0,b.jsx)(i.cC,{id:"More documentation on point lists can be found {docs}",values:{docs:k},components:a.Fragment})})]})]}),(0,b.jsx)("div",{className:"flex col-span-6 justify-end pt-8",children:(0,b.jsx)("div",{children:(0,b.jsx)(l.ZP,y(y({disabled:c||(null===(s=r.pointListAddress)||void 0===s?void 0:s.toLowerCase())===(null===v||void 0===v?void 0:v.toLowerCase())},c&&{startIcon:(0,b.jsx)("div",{className:"w-5 h-5 mr-1",children:(0,b.jsx)(g(),{animationData:x,autoplay:!0,loop:!0})})}),{},{color:"blue",onClick:()=>O(v),children:n._(n._("Update List Address"))}))})})]})},N=s(32871),k=s(8694),Z=s(78980),O=s(18269),P=s(80446);function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function C(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var S=e=>{var t,s;let{auction:r}=e;const{0:n,1:i}=(0,a.useState)(!1),{0:o,1:c}=(0,a.useState)([]),{updatePointList:d}=(0,f.Z)(r.auctionInfo.addr,null===(t=r.launcherInfo)||void 0===t?void 0:t.address,r.template,null===(s=r.launcherInfo)||void 0===s?void 0:s.liquidityTemplate,r.pointListAddress),u=(0,a.useCallback)((async()=>{try{i(!0);const[e,t]=o.reduce(((e,t)=>(e[0].push(t.account),e[1].push(new Z.iA((0,O.toWei)(t.amount),Z.QA.exponentiate(Z.QA.BigInt(10),Z.QA.BigInt(18-r.paymentToken.decimals))).quotient.toString()),e)),[[],[]]),s=await d(e,t);null!==s&&void 0!==s&&s.hash&&await s.wait()}catch(e){console.error("Updating point list failed: ",e.message)}finally{i(!1)}}),[r.paymentToken.decimals,d,o]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P.Z,{value:o,disabled:!(null===r||void 0===r||!r.auctionInfo.usePointList||r.pointListAddress),onChange:c}),(0,b.jsx)("div",{className:"flex justify-end col-span-6",children:(0,b.jsx)("div",{children:(0,b.jsx)(l.ZP,C(C({disabled:n||0===o.length},n&&{startIcon:(0,b.jsx)("div",{className:"w-5 h-5 mr-1",children:(0,b.jsx)(g(),{animationData:x,autoplay:!0,loop:!0})})}),{},{color:"blue",onClick:u,children:k.ag._(k.ag._("Update Point List"))}))})})]})},A=s(56727);var L=e=>{var t;let{auction:s}=e;const{i18n:r}=(0,i.mV)(),{updatePermissionListStatus:n}=(0,f.Z)(s.auctionInfo.addr,null===s||void 0===s||null===(t=s.launcherInfo)||void 0===t?void 0:t.address,s.template),{0:l,1:o}=(0,a.useState)(!1),c=(0,a.useCallback)((async e=>{try{o(!0);const t=await n(e);null!==t&&void 0!==t&&t.hash&&await t.wait()}catch(t){console.error("Changing permission status failed: ",t.message)}finally{o(!1)}}),[n]);return(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)(A.rs.Group,{children:(0,b.jsx)("div",{className:"mt-2 flex items-center h-[42px]",children:(0,b.jsx)(A.rs,{disabled:l,checked:s.auctionInfo.usePointList,onChange:()=>c(!s.auctionInfo.usePointList),className:(0,j.AK)(l?"opacity-50 saturate-[0.1]":"opacity-100",s.auctionInfo.usePointList?"bg-purple border-purple border-opacity-80":"bg-dark-700 border-dark-700","filter bg-opacity-60 border  relative inline-flex items-center h-[32px] rounded-full w-[54px] transition-colors focus:outline-none"),children:(0,b.jsx)("span",{className:(0,j.AK)(s.auctionInfo.usePointList?"translate-x-[23px]":"translate-x-[1px]",l?"bg-dark-900":"bg-white","inline-block w-7 h-7 transform rounded-full transition-transform text-blue"),children:l&&(0,b.jsx)("div",{className:"w-7 h-7",children:(0,b.jsx)(g(),{animationData:x,autoplay:!0,loop:!0})})})})})}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:s.auctionInfo.usePointList?r._(r._("Status: enabled")):r._(r._("Status: disabled"))})]})};var D=e=>{let{auction:t}=e;const{i18n:s}=(0,i.mV)();return(0,b.jsxs)(h.Z.Section,{columns:6,header:(0,b.jsx)(h.Z.Section.Header,{header:s._(s._("Whitelisting")),subheader:s._(s._("Auctions are open by default. You can add a smart contract with approval logic to your auction. This will restrict users participating in your auction if enabled. Please refer to our developer documentation and sample list in our GitHub Repo."))}),children:[(0,b.jsx)("div",{className:"col-span-6",children:(0,b.jsx)(L,{auction:t})}),(0,b.jsx)("div",{className:"col-span-6",children:(0,b.jsx)(_,{auction:t})}),(0,b.jsx)(S,{auction:t}),(0,b.jsx)("div",{className:"col-span-6",children:(0,b.jsx)(N.Z,{listAddress:t.pointListAddress===m.d?"":t.pointListAddress,paymentToken:t.paymentToken})})]})},I=s(17141),E=s(7423),U=s(4840),F=s(87536);var M=()=>{var e;const{formState:{errors:t},getValues:s,setValue:r}=(0,F.Gc)(),n=(null===(e=s("bannedCountries"))||void 0===e?void 0:e.split(",").filter((e=>""!==e)))||[],i=(0,a.useCallback)(((e,t)=>r("bannedCountries",null===e||void 0===e?void 0:e.filter((e=>e!==t)).join(","))),[r]),l=(0,a.useCallback)(((e,t)=>r("bannedCountries",[...e,t.target.value].join(","))),[r]),c=Object.entries(U.kx).filter((e=>{let[t]=e;return!n.includes(t)}));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{weight:700,children:k.ag._(k.ag._("Country Ban"))}),(0,b.jsxs)("div",{className:"mt-2 flex flex-col gap-2 rounded-md shadow-sm",children:[(0,b.jsx)("select",{multiple:!0,onChange:e=>l(n,e),name:"bannedCountries",className:h.X,children:c.map((e=>{let[t,s]=e;return(0,b.jsx)("option",{value:t,children:s},t)}))}),(0,b.jsx)("div",{className:(0,j.AK)(h.X,t.bannedCountries?"!border-red":"","flex flex-wrap gap-2 min-h-[42px] relative w-full py-2 pl-3 pr-10 text-left cursor-pointer"),children:null===n||void 0===n?void 0:n.map(((e,t)=>(0,b.jsx)(I.Z,{label:(0,U.pD)(e),onClick:t=>{t.stopPropagation(),i(n,e)},color:"purple"},t)))})]}),t.bannedCountries?(0,b.jsx)(E.Z,{className:"!text-red",children:t.bannedCountries.name}):(0,b.jsx)(E.Z,{children:k.ag._(k.ag._("Select countries who are not allowed to participate in this auction. Please note that this does\nnot prevent users from actually committing but merely serves as a disclaimer."))})]})},H=s(91436),R=s(62607),z=s(64527);var V=s(74231);function B(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function W(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?B(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const G=V.Ry({icon:V.Z_().url(),description:V.Z_().max(300),website:V.Z_().url(),whitepaper:V.Z_().url(),tokenomics:V.Z_().url(),github:V.Z_().url(),telegram:V.Z_().url(),wechat:V.Z_().url(),discord:V.Z_().url(),medium:V.Z_().url(),reddit:V.Z_().url(),twitter:V.Z_().url(),docs:V.Z_().url(),desktopBanner:V.Z_().url(),mobileBanner:V.Z_().url(),bannedCountries:V.Z_(),bannedWarning:V.Z_().max(300),category:V.Z_()});var K=e=>{var t;let{auction:s}=e;const{i18n:r}=(0,i.mV)(),n=(0,F.cI)({resolver:(0,u.X)(G),defaultValues:s.auctionDocuments}),{watch:c}=n,{0:d,1:m}=(0,a.useState)(s),{editDocuments:x,cancelAuction:p}=(0,f.Z)(s.auctionInfo.addr,null===(t=s.launcherInfo)||void 0===t?void 0:t.address,s.template);(0,a.useEffect)((()=>{const e=c((e=>{m((t=>new R.q({template:t.template,auctionToken:t.auctionToken,paymentToken:t.paymentToken,auctionInfo:t.auctionInfo,marketInfo:t.marketInfo,auctionDocuments:W(W({},t.auctionDocuments),e),pointListAddress:t.pointListAddress,status:t.status})))}));return()=>e.unsubscribe()}),[c]);const v=(0,a.useCallback)((e=>{const t=W({},s.auctionDocuments),a=W({},e),r=Object.entries(a).reduce(((e,s)=>{let[r,n]=s;return(void 0===t[r]?"":t[r])!==a[r]&&e.push({name:r,data:n}),e}),[]);x(r)}),[s.auctionDocuments,x]),g=[{key:"twitter",label:r._(r._("Twitter")),placeholder:"https://twitter.com",helperText:r._(r._("Link to your Twitter profile"))},{key:"github",label:r._(r._("GitHub")),placeholder:"https://github.com",helperText:r._(r._("Link to your GitHub repository"))},{key:"telegram",label:r._(r._("Telegram")),placeholder:"https://telegram.com",helperText:r._(r._("Link to your Telegram group chat"))},{key:"wechat",label:r._(r._("WeChat")),placeholder:"https://wechat.com",helperText:r._(r._("Link to your WeChat group chat"))},{key:"discord",label:r._(r._("Discord")),placeholder:"https://discord.gg",helperText:r._(r._("Your Discord invite link"))},{key:"reddit",label:r._(r._("Reddit")),placeholder:"https://reddit.com",helperText:r._(r._("Link to your Reddit board"))},{key:"medium",label:r._(r._("Medium")),placeholder:"https://medium.com",helperText:r._(r._("Link to your Medium board"))}];return(0,b.jsxs)("div",{className:"flex flex-col gap-10 lg:flex-row",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,b.jsx)(h.Z,W(W({},n),{},{onSubmit:n.handleSubmit(v),children:(0,b.jsxs)(h.Z.Card,{children:[(0,b.jsxs)(h.Z.Section,{header:(0,b.jsx)(h.Z.Section.Header,{header:r._(r._("Project Details")),subheader:r._(r._("Only the Auction admin and approved operators for this auction are able to edit any of the details below. Do not waste your gas."))}),children:[(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextField,{name:"website",label:r._(r._("Website")),helperText:r._(r._("Please note that the URL must use https.")),placeholder:"https://example.com"})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextField,{name:"whitepaper",label:r._(r._("Whitepaper")),helperText:r._(r._("Please note that the URL must use https.")),placeholder:"https://example.com/whitepaper.pdf"})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextField,{name:"tokenomics",label:r._(r._("Tokenomics")),helperText:r._(r._("Please note that the URL must use https.")),placeholder:"https://example.com/tokenomics.pdf"})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.SelectField,{name:"category",label:r._(r._("Category")),helperText:r._(r._("Setting a category will increase your project's findability. Please message us if you feel like your project doesn't fit in any of the categories.")),options:(w=z.Fh,Object.keys(w).filter((e=>isNaN(Number(e)))).map((e=>w[e])).filter((e=>"number"===typeof e||"string"===typeof e))).map((e=>({label:e,value:e})))})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextField,{name:"icon",label:r._(r._("Icon")),placeholder:"https://example.com/icon.png",helperText:r._(r._("Icon image must be smaller than 250kB, this is to keep page load optimized. Icon dimensions preferably 128x128 or smaller"))})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextField,{name:"desktopBanner",label:r._(r._("Desktop Banner")),helperText:r._(r._("Desktop banner must be smaller than 250kB, this is to keep page load optimized. Desktop banner dimensions preferably 1280x196 or a similar ratio")),placeholder:"https://example.com/image.jpg"})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextField,{name:"mobileBanner",placeholder:"https://example.com/image.jpg",label:r._(r._("Mobile Banner")),helperText:r._(r._("Mobile banner must be smaller than 250kB, this is to keep page load optimized. Desktop banner dimensions preferably 768x360 or a similar ratio"))})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(h.Z.TextAreaField,{name:"description",label:r._(r._("Description")),helperText:n.getValues("description")?"".concat(n.getValues("description").length," / 300 Characters"):r._(r._("Summary of your project in at most 300 characters"))})})]}),(0,b.jsx)(h.Z.Section,{className:"pt-8",header:(0,b.jsx)(h.Z.Section.Header,{header:r._(r._("Socials")),subheader:r._(r._("Please note that all social links must use https. Each social link will be displayed with their\ncorresponding brand icon"))}),children:g.map(((e,t)=>(0,b.jsx)("div",{className:"col-span-6",children:(0,b.jsx)(h.Z.TextField,{name:e.key,label:e.label,helperText:e.helperText,placeholder:e.placeholder})},t)))}),(0,b.jsxs)(h.Z.Section,{className:"pt-8",header:(0,b.jsx)(h.Z.Section.Header,{header:r._(r._("Settings"))}),children:[(0,b.jsx)("div",{className:"col-span-6",children:(0,b.jsx)(M,{})}),(0,b.jsx)("div",{className:"col-span-6",children:(0,b.jsx)(h.Z.TextAreaField,{rows:6,name:"bannedWarning",placeholder:"The content contained in this website does not constitute an offer or sale of securities in or into the United States, or to or for the account or benefit of U.S. persons, or in any other jurisdictions where it is unlawful to do so. Transfer of ".concat(s.auctionToken.symbol," tokens may be subject to legal restrictions under applicable laws. Under no circumstances shall ").concat(s.auctionToken.symbol," tokens be reoffered, resold or transferred within the United States or to, or for the account or benefit of, U.S. persons, except pursuant to an exemption from, or in a transaction not subject to, the registration requirements of the U.S. Securities Act of 1933, as amended."),label:r._(r._("Warning Message")),helperText:n.getValues("bannedWarning")?"".concat(n.getValues("bannedWarning").length," / 300 Characters"):r._(r._("Legal warning for your project in at most 300 characters"))})})]}),(0,b.jsx)(h.Z.Section,{className:"pt-8",header:(0,b.jsx)(h.Z.Section.Header,{header:r._(r._("Danger Zone"))}),children:(0,b.jsxs)("div",{className:"col-span-6",children:[(0,b.jsx)("div",{className:(0,j.AK)(s.status!==z.wo.UPCOMING?"border-dark-800":"border-red/50 hover:border-red/100","w-full md:w-1/3 border rounded p-5"),children:(0,b.jsxs)("div",{className:"col-span-6",children:[(0,b.jsx)(l.ZP,{onClick:p,variant:"empty",role:"button",color:s.status!==z.wo.UPCOMING?"gray":"red",disabled:s.status!==z.wo.UPCOMING,children:r._(r._("Cancel this auction"))}),(0,b.jsx)("p",{className:(0,j.AK)(s.status!==z.wo.UPCOMING?"text-low-emphesis":"text-red","mt-2 text-sm "),children:r._(r._("Once you cancel an auction, there is no going back. Please be certain."))})]})}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:s.status!==z.wo.UPCOMING?r._(r._("Auction is past start date")):r._(r._("Auction can only be cancelled by the admin before the start date"))})]})}),(0,b.jsx)(h.Z.Submit,{children:(0,b.jsx)("div",{children:(0,b.jsx)(l.ZP,{color:"blue",type:"submit",children:r._(r._("Save"))})})})]})})),(0,b.jsx)(h.Z.Card,{children:(0,b.jsx)(D,{auction:s})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex flex-col gap-1",children:(0,b.jsx)(o.Z,{variant:"lg",className:"text-high-emphesis",weight:700,children:r._(r._("Example Card"))})}),(0,b.jsx)("div",{className:"mt-3 sticky top-[104px] w-[296px] h-[430px]",role:"button",children:(0,b.jsx)(H.Z,{auction:d,link:!1})})]})]});var w},X=s(80121),q=s(87433),Q=s(19394),Y=s(95497),J=s(12614),$=s(41664),ee=s.n($),te=s(11163);const se=()=>{const{i18n:e}=(0,i.mV)(),{account:t}=(0,J.aQ)(),s=(0,te.useRouter)(),{auction:a}=s.query,{loading:c,auction:d}=(0,X.ZP)(a,null!==t&&void 0!==t?t:void 0);(0,Q.E)("/miso");const u=(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("div",{children:(0,b.jsx)(l.ZP,{color:"blue",variant:"outlined",size:"sm",className:"rounded-full !pl-2 !py-1.5",startIcon:(0,b.jsx)(n.Z,{width:24,height:24}),children:(0,b.jsx)(ee(),{href:"/miso/".concat(a),children:e._(e._("Auction"))})})}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(o.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:e._(e._("Edit Auction"))}),(0,b.jsx)(o.Z,{variant:"sm",weight:400,children:e._(e._("Only the Auction admin and approved operators for this auction are able to edit any of the details below.\nDo not waste your gas."))})]})]});return d&&d.isOwner?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y.Zo,{auction:d,children:u}),(0,b.jsx)(Y.SX,{children:(0,b.jsx)(K,{auction:d})})]}):(c||null!==d&&void 0!==d&&d.isOwner)&&t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y.Zo,{auction:d,children:u}),(0,b.jsx)(Y.SX,{children:(0,b.jsx)("div",{className:"p-10 rounded animate-pulse w-full h-[2700px] bg-dark-900"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y.Zo,{auction:d,children:u}),(0,b.jsx)(Y.SX,{children:(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsx)(r,{width:40}),(0,b.jsxs)(o.Z,{weight:700,children:[e._(e._("Oops! You're not allowed to edit this page."))," ",(0,b.jsx)("span",{className:"text-blue",children:(0,b.jsx)(ee(),{href:"/miso/".concat(a),children:e._(e._("Go back to auction"))})})]})]})})]})};se.Layout=Y.ZP,se.Guard=(0,q.Z)(c.L.MISO);var ae=se},39704:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/miso/[auction]/admin",function(){return s(24735)}])},68163:function(e,t,s){"use strict";var a=s(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=r}},function(e){e.O(0,[8529,2749,9294,3978,7311,2892,2144,8728,121,9922,3540,9774,2888,179],(function(){return t=39704,e(e.s=t);var t}));var t=e.O();_N_E=t}]);