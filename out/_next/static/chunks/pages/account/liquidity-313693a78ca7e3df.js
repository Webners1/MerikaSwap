(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8009],{44516:function(e,t,a){"use strict";var r=a(59499),s=a(49501),n=a(56785),i=a(89046),l=a(67294),c=a(79521),o=a(85893);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.Z=e=>{let{config:t,onSelect:a}=e;const{i18n:r}=(0,s.mV)(),{getTableProps:d,getTableBodyProps:h,headerGroups:p,prepareRow:m,page:f}=(0,c.useTable)(t,c.useSortBy,c.usePagination,c.useFlexLayout);return(0,o.jsx)("div",{className:i._O,children:(0,o.jsxs)("table",u(u({id:"asset-balances-table"},d()),{},{className:i.RR,children:[(0,o.jsx)("thead",{children:p.map(((e,t)=>(0,l.createElement)("tr",u(u({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((t,a)=>(0,l.createElement)("th",u(u({},t.getHeaderProps(t.getSortByToggleProps())),{},{key:a,className:(0,i.G0)(a,e.headers.length)}),t.render("Header")))))))}),(0,o.jsx)("tbody",u(u({},h()),{},{className:"h-[65px]",children:f.length>0?f.map(((e,t)=>(m(e),(0,l.createElement)("tr",u(u({},e.getRowProps()),{},{key:t,onClick:()=>a&&a(e),className:i.vu}),e.cells.map(((t,a)=>(0,o.jsx)("td",u(u({},t.getCellProps()),{},{className:(0,i.zm)(a,e.cells.length),children:t.render("Cell")}),a))))))):(0,o.jsx)(n.Z,{variant:"xs",className:"text-center text-low-emphesis h-[60px] flex items-center justify-center",children:r._(r._("No balances"))})}))]}))})}},45572:function(e,t,a){"use strict";var r=a(610),s=a.n(r),n=a(77082),i=a(15003),l=a(56785),c=a(44554),o=a(29325),d=a(12614),u=a(41664),h=a.n(u),p=a(67294),m=a(30710),f=a(85893);t.Z=e=>{let{account:t,chainId:a,hideAccount:r=!1}=e;const{library:u}=(0,d.aQ)(),{0:v,1:x}=(0,p.useState)(!1),{ENSName:y}=(0,o.Z)(null!==t&&void 0!==t?t:void 0);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"flex items-center gap-4",onClick:()=>x(!v),children:[t&&(0,f.jsx)("div",{className:"border-2 rounded-full",children:(0,f.jsx)(s(),{size:64,address:t,defaultComponent:(0,f.jsx)(m.default,{seed:t,size:16,className:"rounded-full"}),provider:u})}),(0,f.jsxs)("div",{className:"flex flex-col",children:[t&&(0,f.jsx)(h(),{href:(0,c.E8)(a,t,"address"),passHref:!0,children:(0,f.jsx)("a",{target:"_blank",children:(0,f.jsxs)(l.Z,{variant:"h3",className:"flex gap-1 cursor-pointer text-high-emphesis hover:text-blue-100",weight:700,children:[y||(t?(0,c.Xn)(t):"")," ",(0,f.jsx)(n.Z,{width:20})]})})}),t&&!r&&(0,f.jsx)(i.Z,{toCopy:t,className:"opacity-100 text-primary",children:(0,c.Xn)(t)})]})]})})}},37387:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var r=a(49501),s=a(56785),n=(a(8694),a(44516)),i=a(17141),l=a(85843),c=a(26797),o=a(50484),d=a(44554),u=a(25361),h=a(41664),p=a.n(h),m=a(67294),f=a(85893);var v=a(59499),x=a(78980),y=a(38264),g=a(84329);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,v.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const w=e=>{let{account:t,chainId:a}=e;const r=function(e){let{account:t,chainId:a}=e;const{data:r}=(0,g.T5)({chainId:a}),s=(0,g.Qq)({chainId:a,variables:{where:{user:null===t||void 0===t?void 0:t.toLowerCase(),liquidityTokenBalance_gt:0}},shouldFetch:!!a&&!!t}),{data:n}=(0,g.__)({chainId:a,variables:{where:{id_in:null===s||void 0===s?void 0:s.map((e=>e.pair.id))}},shouldFetch:!!s}),{data:i}=(0,g.__)({chainId:a,variables:{block:r,where:{id_in:null===s||void 0===s?void 0:s.map((e=>e.pair.id))}},shouldFetch:!!s});return(0,m.useMemo)((()=>s&&n?s.map((e=>{var t;const r=n.find((t=>t.id===e.pair.id)),s=null!==(t=null===i||void 0===i?void 0:i.find((t=>t.id===e.pair.id)))&&void 0!==t?t:r;return{id:e.id,assets:[r.token0,r.token1].map((e=>new x.WU(a,e.id,Number(e.decimals),e.symbol,e.name))),type:y.W4.ConstantProduct,swapFeePercent:.3,twapEnabled:!0,value:e.liquidityTokenBalance/r.totalSupply*r.reserveUSD,apy:(0,d.g5)({volume:r.volumeUSD-s.volumeUSD,liquidity:r.reserveUSD,days:7}),legacy:!0}})):void 0),[s,n,i,a])}({account:t,chainId:a}),h=function(e){let{account:t,chainId:a}=e;const{data:r}=(0,g.T5)({chainId:a}),{data:s}=(0,g.Pm)({chainId:a,variables:{where:{user:null===t||void 0===t?void 0:t.toLowerCase(),balance_gt:0}},shouldFetch:!!a&&!!t}),n=(0,u.G_)({chainId:a,variables:{where:{id_in:null===s||void 0===s?void 0:s.map((e=>{let{id:t}=e;return t}))}},shouldFetch:!!s}),i=(0,u.G_)({chainId:a,variables:{where:{id_in:null===s||void 0===s?void 0:s.map((e=>{let{id:t}=e;return t}))},block:r},shouldFetch:!!s||!!r});return(0,m.useMemo)((()=>s&&n&&i?s.map((e=>{const t=n.find((t=>t.address===e.id)),a=i.find((t=>t.address===e.id));let r;return a&&(r=(0,d.g5)({volume:t.volumeUSD-a.volumeUSD,liquidity:t.liquidityUSD,days:7})),j(j({},e),{},{apy:r})})):[]),[n,i,s])}({account:t,chainId:a}),{config:v}=(e=>{let{positions:t,chainId:a}=e;const r=(0,m.useMemo)((()=>[{Header:"Assets",accessor:"assets",className:"text-left",Cell:e=>{let{value:t,row:{original:a}}=e;return(0,f.jsx)(l.y,{assets:t,twapEnabled:a.twapEnabled})},filter:c._},{Header:"Pool Type",accessor:"type",maxWidth:100,className:"text-left hidden lg:flex",Cell:e=>(0,f.jsx)(i.Z,{label:e.row.original.legacy?"Legacy":o.kv[e.value],color:o.bG[e.value]}),filter:(e,t,a)=>e.filter((e=>!a.length||a.includes(e.values.type)))},{Header:"Fee Tier",accessor:"swapFeePercent",maxWidth:100,className:"text-left hidden lg:flex",Cell:e=>(0,f.jsxs)("span",{children:[e.value,"%"]}),filter:c.S},{id:"value",Header:"Value",accessor:"value",maxWidth:100,className:"text-right flex justify-end",Cell:e=>(0,f.jsxs)(s.Z,{weight:700,className:"w-full text-right text-high-emphesis",children:["$",e.value.toFixed(2)]})},{Header:"APY",accessor:"apy",maxWidth:100,className:"text-right flex justify-end",Cell:e=>{var r;let{row:n,value:i}=e;const{data:l}=(0,u.IA)({chainId:a,variables:{where:{id_in:null===t||void 0===t?void 0:t.map((e=>e.id.toLowerCase()))}},shouldFetch:!!a&&!!t});return(0,f.jsx)(s.Z,{weight:700,className:"w-full text-right text-high-emphesis",children:(0,d.T3)(null!==i&&void 0!==i?i:null===l||void 0===l||null===(r=l[n.id])||void 0===r?void 0:r.apy)})}},{id:"actions",Header:"Actions",accessor:"type",maxWidth:100,className:"text-right flex justify-end",cellClassName:"justify-end",Cell:e=>{let{row:{original:t}}=e;return t.legacy?(0,f.jsxs)("div",{className:"space-x-4",children:[(0,f.jsx)(p(),{href:{pathname:"/add",query:{tokens:t.assets.map((e=>e.address))}},children:(0,f.jsx)("a",{className:"text-sm rounded-full text-blue",children:"Add"})}),(0,f.jsx)(p(),{href:{pathname:"/remove",query:{tokens:t.assets.map((e=>e.address))}},children:(0,f.jsx)("a",{className:"text-sm rounded-full text-blue",children:"Remove"})})]}):(0,f.jsx)(p(),{href:{pathname:"/trident/pool",query:{tokens:t.assets.map((e=>e.address)),fee:100*t.swapFeePercent,twap:t.twapEnabled}},children:(0,f.jsx)("a",{className:"text-sm rounded-full text-blue",children:"Manage"})})}}]),[a,t]),n=m.useMemo((()=>({minWidth:0})),[]);return(0,m.useMemo)((()=>({config:{columns:r,data:t||[],defaultColumn:n,initialState:{pageSize:15,sortBy:[{id:"value",desc:!0}]},autoResetFilters:!1}})),[r,n,t])})({positions:[...r||[],...h||[]],chainId:a});return(0,f.jsx)(n.Z,{config:v})};var N=a(45572),O=a(22680),P=a(11163);const _=()=>{const{i18n:e}=(0,r.mV)(),t=(0,P.useRouter)(),a=t.query.account,n=t.query.account?Number(t.query.chainId):void 0;return a&&n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(O.CV,{pattern:"bg-binary",children:(0,f.jsx)(N.Z,{account:a,chainId:n})}),(0,f.jsxs)(O.A9,{children:[(0,f.jsx)(s.Z,{variant:"lg",className:"text-high-emphesis",weight:700,children:e._(e._("Sushi Liquidity Positions"))}),(0,f.jsx)("div",{className:"flex flex-col justify-between gap-8",children:(0,f.jsx)(w,{account:a,chainId:n})})]})]}):null};_.Layout=O.ZP;var k=_},25174:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/liquidity",function(){return a(37387)}])},77082:function(e,t,a){"use strict";var r=a(67294);const s=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}))}));t.Z=s}},function(e){e.O(0,[8529,8193,9521,7032,5089,9774,2888,179],(function(){return t=25174,e(e.s=t);var t}));var t=e.O();_N_E=t}]);