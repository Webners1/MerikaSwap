"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9695],{94492:function(e,t,r){r.d(t,{Z:function(){return I}});var s,n=r(64343),a=r(24635),o=r(49501),i=r(71862),l=r(45486),c=r(46430),d=r(38457),u=r(54962),h=r(573),x=r(58771),p=r(16682),m=r(44554),f=r(16339),g=r(37643),N=r(627),v=r(67294),b=r(56785),j=r(85893);!function(e){e.InvalidInput="InvalidInput"}(s||(s={}));var _=e=>{let{placeholderSlippage:t,trident:r=!1}=e;const{i18n:n}=(0,o.mV)(),a=(0,f.T)(),{error:l,percent:c,input:d}=(0,f.C)(g.Tz),h=c.equalTo(g.Ru),[_,w]=(0,N.A6)(),{0:O,1:y}=(0,v.useState)(""),{0:E,1:I}=(0,v.useState)(!1);return(0,j.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,j.jsxs)("div",{className:"grid gap-2",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:n._(n._("Slippage tolerance"))}),(0,j.jsx)(u.Z,{text:n._(n._("Your transaction will revert if the price changes unfavorably by more than this percentage."))})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("div",{className:(0,m.AK)(l===g.Hd.INVALID_INPUT?"border-red/60":l===g.Hd.TOO_LOW||l===g.Hd.TOO_HIGH?"border-yellow/60":h?"border-dark-800":"border-blue","border-2 h-[36px] flex items-center px-2 rounded bg-dark-1000/40"),tabIndex:-1,children:(0,j.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[l===g.Hd.TOO_LOW||l===g.Hd.TOO_HIGH?(0,j.jsx)(x.Z,{className:"text-yellow",width:24}):null,(0,j.jsx)("input",{id:"text-slippage",className:(0,m.AK)(l===g.Hd.INVALID_INPUT?"text-red":"","bg-transparent placeholder-low-emphesis min-w-0 w-full font-bold"),placeholder:null===t||void 0===t?void 0:t.toFixed(2),value:d,onChange:e=>a((0,g.l_)(e.target.value)),onBlur:()=>l===g.Hd.INVALID_INPUT?a((0,g.l_)(g.QK)):a((0,g.w5)()),color:l===g.Hd.INVALID_INPUT?"red":"",autoComplete:"off"}),"%"]})}),(0,j.jsx)("div",{children:(0,j.jsx)(i.ZP,{size:"sm",color:h?"blue":"gray",variant:"outlined",onClick:()=>a((0,g.l_)(g.QK)),children:n._(n._("Auto"))})})]}),l?(0,j.jsx)(b.Z,{className:(0,m.AK)(l===g.Hd.INVALID_INPUT?"text-red":"text-yellow","font-medium flex items-center space-x-2"),variant:"xs",weight:700,children:(0,j.jsx)("div",{children:l===g.Hd.INVALID_INPUT?n._(n._("Enter a valid slippage percentage")):l===g.Hd.TOO_HIGH?n._(n._("Your transaction may be frontrun")):n._(n._("Your transaction may fail"))})}):null]}),!r&&(0,j.jsxs)("div",{className:"grid gap-2",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:n._(n._("Transaction deadline"))}),(0,j.jsx)(u.Z,{text:n._(n._("Your transaction will revert if it is pending for more than this long."))})]}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("input",{className:(0,m.AK)(E?"text-red":"","font-bold h-[36px] placeholder-low-emphesis bg-dark-1000/40 border-2 border-dark-800 rounded px-2  max-w-[100px] focus:border-blue"),placeholder:(p.PY/60).toString(),value:O.length>0?O:_===p.PY?"":(_/60).toString(),onChange:e=>function(e){if(y(e),I(!1),0===e.length)w(p.PY);else try{const t=Math.floor(60*Number.parseFloat(e));!Number.isInteger(t)||t<60||t>=Number.MAX_SAFE_INTEGER?I(s.InvalidInput):w(t)}catch(t){console.error(t),I(s.InvalidInput)}}(e.target.value),onBlur:()=>{y(""),I(!1)},color:E?"red":""}),(0,j.jsx)(b.Z,{variant:"sm",weight:700,className:"text-secondary",children:n._(n._("minutes"))})]})]})]})},w=r(38239),O=r(7582),y=r(12614),E=r(90849);var I=e=>{let{placeholderSlippage:t,className:r,trident:s=!1}=e;const{i18n:x}=(0,o.mV)(),{chainId:p}=(0,y.aQ)(),f=(0,E.nU)(),[g,I]=(0,N.DG)(),[k,Z]=(0,N.RO)(),{0:D,1:A}=(0,v.useState)(!1),[P,S]=(0,N.Cp)(),T=(0,O.Z)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Z,{placement:"bottom-end",content:(0,j.jsxs)("div",{className:"flex flex-col gap-3 p-3 border rounded shadow-xl bg-dark-900 w-80 border-dark-700",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-4 p-3 border rounded border-dark-800/60",children:[(0,j.jsx)(b.Z,{variant:"xxs",weight:700,className:"text-secondary",children:x._(x._("Transaction Settings"))}),(0,j.jsx)(_,{placeholderSlippage:t,trident:s})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-3 p-3 border rounded border-dark-800/60",children:[(0,j.jsx)(b.Z,{variant:"xxs",weight:700,className:"text-secondary",children:x._(x._("Interface Settings"))}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b.Z,{variant:"xs",className:"text-high-emphesis",weight:700,children:x._(x._("Toggle expert mode"))}),(0,j.jsx)(u.Z,{text:x._(x._("Bypasses confirmation modals and allows high slippage trades. Use at your own risk."))})]}),(0,j.jsx)(h.Z,{size:"sm",id:"toggle-expert-mode-button",checked:g,onChange:g?()=>{I(),A(!1)}:()=>{f(),A(!0)},checkedIcon:(0,j.jsx)(n.Z,{className:"text-dark-700"}),uncheckedIcon:(0,j.jsx)(l.Z,{}),color:"gradient"})]}),!s&&(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b.Z,{variant:"xs",className:"text-high-emphesis",weight:700,children:x._(x._("Disable multihops"))}),(0,j.jsx)(u.Z,{text:x._(x._("Restricts swaps to direct pairs only."))})]}),(0,j.jsx)(h.Z,{size:"sm",id:"toggle-disable-multihop-button",checked:k,onChange:()=>Z(!k),checkedIcon:(0,j.jsx)(n.Z,{className:"text-dark-700"}),uncheckedIcon:(0,j.jsx)(l.Z,{}),color:"gradient"})]}),(0,m.vR)(w.L.SUSHIGUARD,null!==p&&void 0!==p?p:-1)&&T&&(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b.Z,{variant:"xs",className:"text-high-emphesis",weight:700,children:x._(x._("SushiGuard Protector"))}),(0,j.jsx)(u.Z,{text:x._(x._("SushiGuard protects your trades from MEV, like frontrunning."))})]}),(0,j.jsx)(h.Z,{size:"sm",id:"toggle-use-sushiguard",checked:P,onChange:()=>S(!P),checkedIcon:(0,j.jsx)(n.Z,{className:"text-dark-700"}),uncheckedIcon:(0,j.jsx)(l.Z,{}),color:"gradient"})]})]})]}),children:(0,j.jsx)("div",{className:(0,m.AK)(r,"flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"),children:(0,j.jsx)(a.Z,{className:"w-[26px] h-[26px] transform rotate-90 hover:text-white"})})}),(0,j.jsx)(c.Z.Controlled,{isOpen:D,onDismiss:()=>A(!1),maxWidth:"md",children:(0,j.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,j.jsx)(c.Z.Header,{header:x._(x._("Confirm")),onClose:()=>A(!1)}),(0,j.jsxs)(c.Z.BorderedContent,{className:"flex flex-col gap-3 !border-yellow/40",children:[(0,j.jsx)(b.Z,{variant:"xs",weight:700,className:"text-secondary",children:x._(x._("Only use this mode if you know what you are doing."))}),(0,j.jsx)(b.Z,{variant:"sm",weight:700,className:"text-yellow",children:x._(x._("Expert mode turns off the confirm transaction prompt and allows high slippage trades\nthat often result in bad rates and lost funds."))})]}),(0,j.jsx)(i.ZP,{id:"confirm-expert-mode",color:"blue",variant:"filled",onClick:()=>{I(),A(!1)},children:x._(x._("Enable Expert Mode"))})]})})]})}},95203:function(e,t,r){var s=r(59499),n=r(4730),a=r(56727),o=r(71862),i=r(67294),l=r(44554),c=r(85893);const d=["children","size","className","variant"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x={filled:{group:"border border-dark-800 rounded p-0.5 bg-dark-900",option:{checked:e=>e?"border-transparent border-gradient-r-blue-pink-dark-900":"border-transparent",default:"py-1 rounded-lg border"}},outlined:{group:"gap-2",option:{checked:e=>e?"border-dark-700 bg-gradient-to-r from-blue to-pink":"border-dark-700",default:"py-3 rounded border"}}},p=e=>{let{children:t,size:r,className:s="",variant:o="filled"}=e,u=(0,n.Z)(e,d);return(0,c.jsx)(a.Ee,h(h({},u),{},{className:(0,l.AK)(s,"flex bg-dark-1000/40 rounded-full",x[o].group),children:i.Children.map(t,(e=>(0,i.isValidElement)(e)?(0,i.cloneElement)(e,{variant:o,size:r,style:{width:"calc(100% / ".concat(i.Children.toArray(t).length,")")}}):e))}))};p.Button=e=>{let{value:t,children:r,size:s,style:n,className:l}=e;return(0,c.jsx)(a.Ee.Option,{value:t,as:i.Fragment,children:e=>{let{checked:a}=e;return(0,c.jsx)(o.ZP,{style:n,size:s,id:"radio-option-".concat(t),variant:a?"filled":"empty",color:a?"blue":"gray",className:l,type:"button",children:r})}})},t.Z=p},42388:function(e,t,r){r.d(t,{kG:function(){return g}});var s=r(16441),n=r(9279),a=r(57218),o=r(78980),i=r(74703),l=r(12614),c=r(53344),d=r(90849),u=r(36847),h=r(15393),x=r(68411),p=r(67294),m=r(25617),f=r(54907);let g,N;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.FAILED=3]="FAILED",e[e.APPROVED=4]="APPROVED"}(g||(g={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.REJECTED=1]="REJECTED",e[e.FAILED=2]="FAILED",e[e.NOT_READY=3]="NOT_READY"}(N||(N={})),t.ZP=function(){const{account:e,library:t,chainId:r}=(0,l.aQ)(),v=(0,m.I0)(),{0:b,1:j}=(0,p.useState)(!1),{0:_,1:w}=(0,p.useState)(void 0);(0,p.useEffect)((()=>{w(void 0)}),[e,r]);const O=r?o.MO[r]:void 0,y=(0,d.Fw)(),E=(0,h.B2)(O,e||n.d),I=(0,x.h7)(),k=(0,p.useMemo)((()=>O?!E&&y?g.PENDING:E?g.APPROVED:g.NOT_APPROVED:g.UNKNOWN),[O,E,y]),Z=(0,f.rO)(),D=(0,p.useCallback)((async()=>{if(k!==g.NOT_APPROVED)return console.error("approve was called unnecessarily"),{outcome:N.NOT_READY};if(!O)return console.error("no token"),{outcome:N.NOT_READY};if(!Z)return console.error("no bentobox contract"),{outcome:N.NOT_READY};if(!e)return console.error("no account"),{outcome:N.NOT_READY};if(!t)return console.error("no library"),{outcome:N.NOT_READY};try{const n=await(0,i.D)(Z,O,e,t,!0,r),{v:a,r:o,s:l}=(0,s.splitSignature)(n);return{outcome:N.SUCCESS,permit:{account:e,masterContract:O,v:a,r:o,s:l}}}catch(n){return{outcome:n.code===c.PM?N.REJECTED:N.FAILED}}}),[k,e,t,r,Z,O]);return[k,b,_,async function(){if(b){const t=await(null===Z||void 0===Z?void 0:Z.setMasterContractApproval(e,O,!0,0,a.R,a.R));v((0,u.ZD)("Approve Kashi")),await t.wait(),v((0,u.ZD)(""))}else{const e=await D();e.outcome===N.SUCCESS?w(e.permit):e.outcome===N.FAILED&&j(!0)}},async function(s,n){const a=new i.Z(s,e,t,r);let o;k===g.NOT_APPROVED&&_?(a.approve(_),o="Approve Kashi and "+await n(a)):o=await n(a);const l=await a.cook();l.success&&(I(l.tx,{summary:o}),w(void 0),await l.tx.wait())}]}},7582:function(e,t,r){r.d(t,{Z:function(){return n}});var s=r(10915);function n(){return!(0,s.Z)()}}}]);